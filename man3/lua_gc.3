.Dd $Mdocdate: July 18 2022 $
.Dt LUA_GC 3
.Os
.Sh NAME
.Nm lua_gc
.Nd controls the garbage collector
.Sh SYNOPSIS
.In lua.h
.Ft int
.Fn lua_gc "lua_State *L" "int what" "int data"
.Sh DESCRIPTION
.Fn lua_gc
controls the garbage collector.
.Pp
This function performs several tasks, according to the value of the parameter
what:
.Pp
.Bl -tag -width LUA_GCSETSTEPMUL -offset indent -compact
.It Dv LUA_GCSTOP :
stops the garbage collector.
.It Dv LUA_GCRESTART :
restarts the garbage collector.
.It Dv LUA_GCCOLLECT :
performs a full garbage-collection cycle.
.It Dv LUA_GCCOUNT :
returns the current amount of memory (in Kbytes) in use by Lua.
.It Dv LUA_GCCOUNTB :
returns the remainder of dividing the current amount of bytes of memory in use
by Lua by 1024.
.It Dv LUA_GCSTEP :
performs an incremental step of garbage collection.
The step "size" is controlled by data (larger values mean more steps) in a
non-specified way.
If you want to control the step size you must experimentally tune the value of
data.
The function returns 1 if the step finished a garbage-collection cycle.
.It Dv LUA_GCSETPAUSE :
sets data as the new value for the pause of the collector.
The function returns the previous value of the pause.
.It Dv LUA_GCSETSTEPMUL :
sets data as the new value for the step multiplier of the collector.
The function returns the previous value of the step multiplier.
.El
.Sh HISTORY
The
.Fn lua_gc
manual page was written by Sergey Bronnikov.
