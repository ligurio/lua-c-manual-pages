<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css" type="text/css" media="all"/>
  <title>LUAL_BUFFER(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LUAL_BUFFER(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">LUAL_BUFFER(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">luaL_Buffer</code> &#x2014; <span class="Nd">type
    for a string buffer</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
    &lt;<a class="In">lauxlib.h</a>&gt;</code></p>
<p class="Pp"><var class="Vt">typedef struct luaL_Buffer luaL_Buffer</var>;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><a class="permalink" href="#luaL_Buffer"><code class="Fn" id="luaL_Buffer">luaL_Buffer</code></a>()
    type for a
    <a class="permalink" href="#string"><i class="Em" id="string">string
    buffer</i></a>.</p>
<p class="Pp">A string buffer allows C code to build Lua strings piecemeal. Its
    pattern of use is as follows:</p>
<p class="Pp"></p>
<ul class="Bl-bullet Bl-compact">
  <li>First you declare a variable b of type
      <code class="Nm">luaL_Buffer</code>.</li>
  <li id="luaL_buffinit(L,">Then you initialize it with a call
      <a class="permalink" href="#luaL_buffinit(L,"><i class="Em">luaL_buffinit(L,
      &amp;b)</i></a>.</li>
  <li id="luaL_add*">Then you add string pieces to the buffer calling any of the
      <a class="permalink" href="#luaL_add*"><i class="Em">luaL_add*</i></a>
      functions.</li>
  <li id="luaL_pushresult(&amp;b)">You finish by calling
      <a class="permalink" href="#luaL_pushresult(&amp;b)"><i class="Em">luaL_pushresult(&amp;b)</i></a>.
      This call leaves the final string on the top of the stack.</li>
</ul>
<p class="Pp" id="luaL_addvalue">During its normal operation, a string buffer
    uses a variable number of stack slots. So, while using a buffer, you cannot
    assume that you know where the top of the stack is. You can use the stack
    between successive calls to buffer operations as long as that use is
    balanced; that is, when you call a buffer operation, the stack is at the
    same level it was immediately after the previous buffer operation. (The only
    exception to this rule is
    <a class="permalink" href="#luaL_addvalue"><i class="Em">luaL_addvalue</i></a>).
    After calling <a class="Xr">luaL_pushresult(3)</a> the stack is back to its
    level when the buffer was initialized, plus the final string on its top.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr">luaL_pushresult(3)</a></p>
<p class="Pp"><cite class="Rs"><span class="RsA">Roberto Ierusalimschy</span>,
    <span class="RsA">Luiz Henrique de Figueiredo</span>, and
    <span class="RsA">Waldemar Celes</span>, <span class="RsT">Lua 5.1 Reference
    Manual</span>.</cite></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Fn">luaL_Buffer</code>() manual page is based on
    Lua Reference Manual 5.1 and was created by Sergey Bronnikov.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 26, 2022</td>
    <td class="foot-os">Debian</td>
  </tr>
</table>
</body>
</html>
